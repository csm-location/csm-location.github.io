<!DOCTYPE html>
<html lang="en">
<head><link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700;800&display=swap" rel="stylesheet">
      <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"> 
   <meta name="description" content="Watch Live TV Channels On HridoyTV. Join Now For The Best Streaming Experience!">
    <meta name="keywords" content="HridoyTV, HridoyLive, Bdix Live TV, Hossain Hridoy, IPTV, Lice sports, Live News, hridoytv.top">
    <meta name="robots" content="index, follow">

    <title>HridoyTV - The Home of Live TV</title>
    <link rel="icon" href="https://i.postimg.cc/2j12z04x/hridoytv-logo-v.png" type="image/png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        
        
        :root { --bg-color: #0e0e0e; --accent: #ff0000; --tg-color: #0088cc; --paper-texture: url("https://i.postimg.cc/2j12z04x/hridoytv-logo-v.png"); }
        
        html, body { 
            margin: 0; padding: 0; width: 100%; height: 100%; 
            background-color: var(--bg-color); color: #000; 
            font-family: 'Poppins', sans-serif; overflow-x: hidden;
        }
        
        /* desktop footer space */
@media (min-width: 769px) {
  .channel-container {
    padding-bottom: 80px;
  }
}

/* =========================
   PLAYING INDICATOR (MINIMAL)
========================= */

.playing-indicator {
  position: absolute;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;

 
opacity: 0;
  transition: opacity 0.2s ease;

  z-index: 5;
  pointer-events: none;
}

/* üîΩ logo opacity ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã */
.channel5-card.active .inner-card img {
  opacity: 0.40;                    /* üî• ‡¶≤‡ßã‡¶ó‡ßã fade */
  transition: opacity 0.2s ease;
}

/* icon */
.playing-indicator img {
  width: 60px;
  height: 35px;

  opacity: 0.9;
 
}

/* ‡¶∂‡ßÅ‡¶ß‡ßÅ active card ‡¶è show */
.channel-card.active .playing-indicator {
  opacity: 1;
}
    
    .catego5ry-empty{ margin-top: 40px; /* üî• ‡¶Ü‡¶ó‡ßá 40px ‡¶õ‡¶ø‡¶≤ */
padding: 15px;
display:flex; align-items:center; justify-content:center; gap:10px; background: transparent; border-radius:10px; color:#aaa; font-size:14px; min-height: auto; /* üî• extra height off */ }
        
        #favToggleBtn{
    background:#222;
    color:#fff;
    border:none;
    width:36px;
    height:36px;
    border-radius:50%;
}
#favToggleBtn.active{
    background:red;
}

   
        /* Layout Structure */
        .wrapper { display: flex; flex-direction: column; height: 100vh; width: 100%; }
        .app-container { display: flex; flex: 1; overflow: hidden; }
        
        .player-area { flex: 1.8; background: #000; display: flex; flex-direction: column; border-right: 1px solid #222;
    box-shadow: 2px 0 6px rgba(0,0,0,0.04); padding: 6px 0; }
   
        .content-area { flex: 1; display: flex; flex-direction: column; background: #000; overflow: hidden; position: relative; }
        
        /* Tabs */
        .tab-wrapper { background: #000; padding: 7px 10px; display: flex; gap: 8px; overflow-x: auto; border-bottom: 1px solid #222; flex-shrink: 0; scrollbar-width: none; }
        .tab-wrapper::-webkit-scrollbar { display: none; }
        .tab-btn { padding: 6px 13px; background: #222; border-radius: 20px; font-size: 11px; font-weight: 600; cursor: pointer; border: 1px solid #222; color: gray; white-space: nowrap; transition: 0.3s; }
        .tab-btn.active { background: green; color: #fff; border-color: green;}

        /* Channel Grid */
        .channel-container { flex: 1; overflow-y: auto; padding-bottom: 140px; }
        .channel-grid { padding: 12px; display: none; grid-template-columns: repeat(3, 1fr); gap: 12px;}
        .channel-grid.active { display: grid; }
        .channel-card { height: 75px; position: relative; 
   background: #ddd; 
 border-radius: 10px; padding: 2px; cursor: pointer; aspect-ratio: auto; overflow: hidden; z-index: 1; }
        .channel-card.active::before { content: ""; position: absolute; width: 400%; height: 400%; top: -150%; left: -150%; background: conic-gradient(from 0deg, #ff0000, #fbff00, #00ff11, #0044ff, #ff00ea, #ff0000); animation: rotate 2.0s linear infinite; z-index: -1; }
  
  .channel-card::before {
    background: rgba(0, 0, 0, 0.45);  /* üî• ‡¶è‡¶ñ‡¶æ‡¶®‡ßá‡¶á opacity */
}
  
   .inner-card {
 
background-image: url("https://i.postimg.cc/NGVccpST/image_search_1769405450229.jpg");
background-size: cover;          /* ‡¶™‡ßÅ‡¶∞‡ßã ‡¶ï‡¶æ‡¶∞‡ßç‡¶° ‡¶≠‡¶∞‡¶¨‡ßá */
background-position: center;
    background-repeat: no-repeat;
border-radius: 7px; width: 100%; height: 100%; overflow: hidden; display: flex; align-items: center; justify-content: center; }
 
 
 
 
     .inner-card img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    max-width: none;
    max-height: none;
    transform: none;
}


        @keyframes rotate { 100% { transform: rotate(360deg); } }

        /* --- Telegram UI --- */
        .tg-wrapper {
            position: fixed; bottom: 40px; left: 20px; z-index: 777; display: flex; flex-direction: column; align-items: center;
       
            }
            
            .tg-btn img {
    width: 60px;
    height: 60px;
    object-fit: cover;      /* üî• ‡¶õ‡¶¨‡¶ø ‡¶∏‡ßÅ‡¶®‡ßç‡¶¶‡¶∞‡¶≠‡¶æ‡¶¨‡ßá ‡¶≠‡¶∞‡¶¨‡ßá */
    border-radius: 50%;     /* üî• ‡¶™‡ßÅ‡¶∞‡ßã ‡¶ó‡ßã‡¶≤ */
    border: 2px solid green;
    transform: scale(1.05);
}
        .tg-btn {
            width: 50px; height: 50px; background: var(--tg-color);
            color: white; border-radius: 50%; display: flex;
            align-items: center; justify-content: center; 
            text-decoration: none; box-shadow: 0 8px 25px rgba(0, 136, 204, 0.7);
            transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            animation: messengerShake 4s infinite ease-in-out;
        }
        .tg-btn i { font-size: 24px; } 

        .tg-label {
            margin-top: 15px; background: rgba(0,0,0,0.8); color: #fff;
            font-size: 10px; font-weight: 800; padding: 4px 10px;
            border-radius: 12px; border: 1px solid #333;
            text-transform: uppercase; letter-spacing: 1px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.5);
        }

        .tg-btn:hover { transform: scale(1.15) rotate(5deg); }

        @keyframes messengerShake {
            0%, 90%, 100% { transform: rotate(0); }
            92% { transform: rotate(15deg); }
            94% { transform: rotate(-15deg); }
            96% { transform: rotate(10deg); }
            98% { transform: rotate(-10deg); }
        }

        /* Footer */
       
        .footer-text { font-size: 14px; font-weight: 800; color: #fff; margin: 0; }

        /* Responsive Fixes */
        @media (max-width: 768px) {
         
            .app-container { flex-direction: column; }
         
            .player-area { flex: none; padding: 0; border-right: none; }
          
            .video-box { width: 100%; border-radius: 0; border: none; }
         
            .channel-grid { grid-template-columns: repeat(3, 1fr); gap: 8px; }
           
            .tg-wrapper { bottom: 65px; right: 20px;   /* üî• mobile ‡¶è ‡¶°‡¶æ‡¶®‡ßá */
        left: auto;    /* üî• mobile ‡¶è ‡¶¨‡¶æ‡¶Æ off */ } 
        }
        
        @media (min-width: 769px) {
    .channel-grid {
        grid-template-columns: repeat(3, 1fr);
        grid-auto-rows: 90px;
    }
}

#tvPlayer {
    width: 100%;
    aspect-ratio: 16 / 9;
    background: #000;
    object-fit: contain;
}

.player-controls-outside {
    width: 95%;
    margin: 6px auto 0 auto;
    display: flex;
    justify-content: flex-end;
}

#fullscreenBtn {
    background: green;
    color: #fff;
    border: 1px solid #333;
    padding: 7px 14px;
    border-radius: 8px;
    font-size: 13px;
    cursor: pointer;
}

.video-box {
    width: 95%;
    margin: -12px auto 0 auto;  /* üî• ‡¶â‡¶™‡¶∞‡ßá ‡¶â‡¶†‡¶¨‡ßá */
    position: relative;
    background: #000;
    border-radius: 12px;
    overflow: hidden;
    border: 1px solid #1a1a1a;
    box-shadow: 0 0 30px rgba(0,0,0,0.6);
    aspect-ratio: 16 / 9;

    padding-bottom: 0px; /* üî• ‡¶¨‡¶æ‡¶ü‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ú‡¶æ‡ßü‡¶ó‡¶æ */
}
 
 #tvPlayer:fullscreen,
#tvPlayer:-webkit-full-screen {
    width: 100vw;
    height: 100vh;
    background: black;
    object-fit: contain;
} 

.player-controls-outside {
    width: 95%;
    margin: 6px auto 0 auto;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.current-channel-inline {
    display: flex;
    align-items: center;
    gap: 8px;
    max-width: 70%;
    overflow: hidden;
    
}

.current-channel-inline img {
    width: 30px;
    height: 30px;
  object-fit: cover;          /* üî• ‡¶™‡ßÅ‡¶∞‡ßã circle ‡¶≠‡¶∞‡¶¨‡ßá */
    background: #fff;
    border-radius: 50%;
    border: 1px solid #e0e0e0;   /* dark green ring */
    padding: 0px;
    flex-shrink: 0;
   
}

.current-channel-inline span {
    font-size: 12px;
    font-weight: 600;
    letter-spacing: 0.3px;
    font-family: 'Outfit', sans-serif;
    color: #aaa;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}  
.player-controls-outside i {
    margin-right: 3px;
}

.channel-title-bar i {
    margin-right: 3px;
}

.channel-title-bar {
    padding: 10px 14px;
    background: #efefef;
    border-bottom: 1px solid #222;
}

.channel-title-bar h2 {
    margin: 0;
    font-size: 12.5px;        /* üî• ‡¶õ‡ßã‡¶ü */
    font-weight: 500;         /* üî• ‡¶ö‡¶ø‡¶ï‡¶® */
    color: #c0c0c0;
    letter-spacing: 0.1px;    /* ‡¶ï‡¶Æ spacing */
    font-family: 'Poppins', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
}



/* üîª Footer only for mobile */
@media (max-width: 768px) {
    .footer-fixed {
        display: flex;
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 40px;
     /* üåø Green glass effect */
        background: green;
border-top: 1px solid #222;
        align-items: center;
        justify-content: center;
        z-index: 999;
    }

.channel-container {
    padding-bottom: 120px;
}
}

    
    .brand-subtitle {
    margin-top: 5px;
    font-size: 13px;
    font-weight: 500;
    letter-spacing: 1.2px;
    text-align: center;

    color: gray;   text-transform: uppercase;

    opacity: 0.95;
    text-shadow: 0 0 8px rgba(0, 180, 90, 0.4);
}
}




/* Live Support text clickable + animation */
.tg-click {
    position: relative;
    cursor: pointer;
    text-decoration: none;
    overflow: hidden;
}

/* Ripple animation only for text */
.tg-click .tg-ripple {
    position: absolute;
    inset: 0;
    background: rgba(0, 255, 120, 0.35);
    border-radius: 12px;
    transform: scale(0);
    opacity: 0;
    pointer-events: none;
}

.tg-click:active .tg-ripple {
    animation: textRipple 0.5s ease-out;
}

.tg-click:active {
    transform: scale(0.95);
}

@keyframes textRipple {
    0% {
        transform: scale(0.6);
        opacity: 0.8;
    }
    100% {
        transform: scale(1.2);
        opacity: 0;
    }
}

.channel-footer {
    background: #111;
    margin:10px 10px 15px;
    border-radius:10px;
    text-align: center;
    font-size: 12px;
    font-weight: 500;
    color: #999;
    padding: 15px 10px 15px;
    letter-spacing: 0.5px;
}

.channel-footer span {
    color: green;
    font-weight: 700;
}


/* =========================
   CHANNEL NUMBER (GREEN)
   Corner attached
========================= */

.channel-number {
    position: absolute;

    bottom: 0;      /* ‚¨áÔ∏è ‡¶®‡¶ø‡¶ö‡ßá */
    left: 0;        /* ‚¨ÖÔ∏è ‡¶¨‡¶æ‡¶Æ‡ßá */

    min-width: 10px;
    height: 18px;

    background: green;

    border: 1px solid rgba(255,255,255,0.25);
    color: #f0f0f0;

    font-size: 11px;
    font-weight: 600;
    line-height: 18px;
    text-align: center;

    padding: 0 6px;

    /* üî• Bottom-left attached corner */
    border-radius: 0 8px 0 10px;

    z-index: 6;

    box-shadow: 0 0 6px rgba(0, 255, 120, 0.8);
}
/* =========================
   PRO ICON (ATTACHED CORNER)
========================= */
.pro-icon {
    position: absolute;
    top: 0;
    right: 0;

    width: 26px;
    height: 26px;

    background: linear-gradient(
        135deg,
        #ffd700,
        #ffb300
    );

    color: #5a3b00;

    display: flex;
    align-items: center;
    justify-content: center;

    border-radius: 0 10px 0 10px; /* üî• corner-attached feel */
    z-index: 7;

    box-shadow: inset 0 0 6px rgba(255,255,255,0.6);
}

/* icon size */
.pro-icon i {
    font-size: 11px;
}

/* =========================
   SHINE LAYER (DEFAULT OFF)
========================= */
.pro-icon {
    position: absolute;
    overflow: hidden; /* üî• shine ‡¶¨‡¶æ‡¶á‡¶∞‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá ‡¶®‡¶æ */
}

.pro-icon::before {
    content: "";
    position: absolute;
    inset: -40%;   /* üî• ‡¶Ü‡¶ó‡ßá -120% ‡¶õ‡¶ø‡¶≤ (too much) */

    background: linear-gradient(
        120deg,
        transparent 40%,
        rgba(255,255,255,0.9) 50%,
        transparent 60%
    );

    transform: translateX(-100%) rotate(25deg);
    opacity: 0;
}

/* =========================
   SHINE ONLY WHEN ACTIVE
========================= */
.channel-card.active .pro-icon::before {
    animation: goldShine 2.2s infinite ease-in-out;
    opacity: 1;
}

.channel-card.active .pro-icon {
    box-shadow: 0 0 14px rgba(255, 215, 0, 1);
}

/* =========================
   SHINE ANIMATION
========================= */
@keyframes goldShine {
    0% {
        transform: translateX(-120%) rotate(25deg);
        opacity: 0;
    }
    35% {
        opacity: 1;
    }
    100% {
        transform: translateX(120%) rotate(25deg);
        opacity: 0;
    }
}
/* =========================
   HRIDOYTV LOGO PRELOADER
========================= */
#fastPreloader {
    position: fixed;
    inset: 0;
    background: radial-gradient(circle at center, #050505, #000);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 99999;
}

/* Container */
.logo-loader {
    text-align: center;
}

/* Logo animation */
.logo-wrap {
    width: 150px;
    height: 130px;
    margin: auto;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
border: solid 1px green;
    background: green;
    box-shadow:
        0 0 25px rgba(0,255,120,0.55),
        inset 0 0 18px rgba(0,255,120,0.35);

    animation: logoPulse 1.6s ease-in-out infinite;
}

.logo-wrap img {
    width: 150px;
    height: 150px;
    object-fit: contain;
    filter: drop-shadow(0 0 8px rgba(0,255,120,0.6));
}

/* Pulse animation */
@keyframes logoPulse {
    0% {
        transform: scale(0.92);
        box-shadow:
            0 0 18px rgba(0,255,120,0.35),
            inset 0 0 12px rgba(0,255,120,0.25);
    }
    50% {
        transform: scale(1.05);
        box-shadow:
            0 0 32px rgba(0,255,120,0.85),
            inset 0 0 20px rgba(0,255,120,0.45);
    }
    100% {
        transform: scale(0.92);
        box-shadow:
            0 0 18px rgba(0,255,120,0.35),
            inset 0 0 12px rgba(0,255,120,0.25);
    }
}

/* Subtitle */
.brand-sub {
    margin-top: 14px;
    font-size: 12px;
    font-weight: 600;
    letter-spacing: 1.2px;
    color: #9f9f9f;
    text-transform: uppercase;
}

/* Fake percent */
.loading-percent {
    margin-top: 10px;
    font-size: 12px;
    font-weight: 700;
    color: green;
    letter-spacing: 1px;
}

/* Progress bar */
.progress-wrap {
    width: 180px;
    height: 5px;
    background: #111;
    border-radius: 6px;
    overflow: hidden;
    margin: 8px auto 0;
}

.progress-bar {
    height: 100%;
    width: 0%;
    background: green;
    transition: width 0.5s ease;
}

#iframePlayer {
  pointer-events: auto;
}

#ytUnmuteBtn {
  pointer-events: auto;
}
#iframePlayer.no-click {
  pointer-events: none;
}
</style>
</head>
<body>

<!-- HRIDOYTV LOGO PRELOADER -->
<div id="fastPreloader">
  <div class="logo-loader">

    <div class="logo-wrap">
      <img src="https://iili.io/fbUsaBR.png" alt="HridoyTV Logo">
    </div>

    <div class="brand-sub">The Home of Live TV</div>

    <div class="loading-percent" id="loadingPercent">35%</div>

    <div class="progress-wrap">
      <div class="progress-bar" id="progressBar"></div>
    </div>

  </div>
</div>

<div class="tg-wrapper">
    <a href="https://t.me/hossain_hridoy" target="_blank" class="tg-btn">
       <img src="https://i.postimg.cc/W1s3vrj7/Hossain-Hridoy.jpg" alt="Contact">
    </a>
   <a href="https://t.me/hossain_hridoy" target="_blank" class="tg-label tg-click">
    Live Support
    <span class="tg-ripple"></span>
</a>
</div>


<div class="wrapper">
    <div class="app-container">
        <div class="player-area">
         ¬†<div class="video-box">
             <img
  id="playerLogo"
  src="https://i.postimg.cc/2j12z04x/hridoytv-logo-v.png"
  style="
    position:absolute;
   bottom:12px;
right:12px;
    width:42px;
    opacity:0.85;
    z-index:9;
    pointer-events:none;
  "
>
             
<button id="ytUnmuteBtn"
style="
position:absolute;
bottom:14px;
right:14px;
padding:10px 14px;
border-radius:30px;
display:none;
background:rgba(0,0,0,0.65);
color:#fff;
font-size:13px;
border:none;
cursor:pointer;
z-index:10;
pointer-events:auto;
">
üîä Unmute
</button>

  <video
    id="tvPlayer"
    muted
    autoplay
    controls
    playsinline
    webkit-playsinline
    poster="https://iili.io/q9W7usa.jpg"
  ></video>

  <iframe
    id="iframePlayer"
    allow="autoplay; encrypted-media"
    allowfullscreen
    style="
      display:none;
      width:100%;
      height:100%;
      border:0;
      background:#000;
    ">
  </iframe>

  <script src="custom-control.js"></script>
</div>
 
 <div class="player-controls-outside">

    <div class="current-channel-inline" id="currentChannelInfo">
        <img id="currentChannelLogo" src="">
        <span id="currentChannelName">No Channel</span>
    </div>
    <button id="favToggleBtn">
    <i class="fa-solid fa-heart"></i>
</button>

    <button id="fullscreenBtn">
      <i class="fas fa-compress"></i>  Fullscreen
    </button>

</div>
        </div>

    <div class="content-area">
           
  <div class="tab-wrapper">
      
 <div class="tab-btn active" onclick="openTab(event, 'cat_0')">Popular</div>
<div class="tab-btn" onclick="openTab(event, 'cat_1')">Sports</div>
<div class="tab-btn" onclick="openTab(event, 'cat_2')">News</div>
<div class="tab-btn" onclick="openTab(event, 'cat_3')">Bangla</div>
<div class="tab-btn" onclick="openTab(event, 'cat_4')">Indian</div>
<div class="tab-btn" onclick="openTab(event, 'cat_5')">Movies</div>
<div class="tab-btn" onclick="openTab(event, 'cat_6')">Kids</div>
<div class="tab-btn" onclick="openTab(event, 'cat_7')">Other</div>
<div class="tab-btn" onclick="openTab(event, 'cat_8')">All</div>
                            </div>       
            <div class="channel-container">
                <div id="fav_grid" class="channel-grid"></div>
                <div id="search_grid" class="channel-grid"></div>
                                   <div id="cat_0" class="channel-grid active"></div>
  <div id="cat_1" class="channel-grid"></div>
  <div id="cat_2" class="channel-grid"></div>
  <div id="cat_3" class="channel-grid"></div>
  <div id="cat_4" class="channel-grid"></div>
  <div id="cat_5" class="channel-grid"></div>
  <div id="cat_6" class="channel-grid"></div>
  <div id="cat_7" class="channel-grid"></div>                                
<div id="cat_8" class="channel-grid"></div>                                
      
                           <div class="channel-footer">
    ¬© 2026 <span>HridoyTV</span>. All rights reserved.
</div>                                </div>     
                            </div>
        </div>
    </div>
    <!-- ================= DATA ================= -->
<script src="search-keywords.js5"></script>
<script src="channel-number.js"></script>
<script src="channel-url.js"></script>

<!-- ================= CATEGORY DATA ================= -->
<script src="channel/popular.js"></script>
<script src="channel/sports.js"></script>
<script src="channel/news.js"></script>
<script src="channel/bangla.js"></script>
<script src="channel/indian.js"></script>
<script src="channel/kids.js"></script>
<script src="channel/movies.js"></script>
<script src="channel/other.js"></script>
<script src="channel/all.js"></script>







<!-- ================= RENDER ================= -->
<script src="channel-render.js"></script>

<script>
document.addEventListener("DOMContentLoaded", () => {

  let renderedOnce = false;

  function waitForChannels() {
    if (
      !renderedOnce &&
      window.categoryChannels &&
      Object.keys(window.categoryChannels).length > 0 &&
      typeof renderCategory === "function"
    ) {
      renderedOnce = true;

      renderCategory("popular", "cat_0");
      renderCategory("sports", "cat_1");
      renderCategory("news", "cat_2");
      renderCategory("bangla", "cat_3");
      renderCategory("indian", "cat_4");
      renderCategory("movies", "cat_5");
      renderCategory("kids", "cat_6");
      renderCategory("other", "cat_7");
      renderCategory("all", "cat_8");

      console.log("‚úÖ Categories rendered (SAFE)");
      return;
    }
    setTimeout(waitForChannels, 100);
  }

  waitForChannels();
});
</script>

// üî• FORCE first grid active (desktop)
const firstGrid = document.getElementById("cat_0");
if (firstGrid) {
  document.querySelectorAll(".channel-grid")
    .forEach(g => g.classList.remove("active"));
  firstGrid.classList.add("active");
}


<!-- ================= GITHUB AUTO UPDATE ================= -->
<script src="auto-update-github.js"></script>
<script>
  loadGitHubPlaylists();
</script>

<!-- ================= FOOTER (ALWAYS LAST) ================= -->
<script src="hridoytv-footer.js"></script>

<div>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const tryAutoPlay = () => {
        if (window.channels && channels['tsports']) {
            const firstChannel = document.querySelector('.item-box');
            if (firstChannel) {
                loadChannel('tsports', firstChannel, true);
            }
        } else {
            // channels ‡¶è‡¶ñ‡¶®‡ßã ‡¶®‡¶æ ‡¶è‡¶≤‡ßá 100ms ‡¶™‡¶∞ ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ
            setTimeout(tryAutoPlay, 100);
        }
    };
    tryAutoPlay();
});

// cat empty state 

function showCategoryEmpty(catId) {

  const old = document.getElementById("categoryEmptyState");
  if (old) old.remove();

  const grid = document.getElementById(catId);
  if (!grid) return;

  if (grid.children.length === 0) {
    const div = document.createElement("div");
    div.id = "categoryEmptyState";
    div.className = "fav-empty-state";
    div.innerHTML = `
      <i class="fa-solid fa-tv" style="color:#777;font-size:18px"></i>
      <span>No channel in this category</span>
    `;
    document.querySelector(".channel-container")
      ?.prepend(div);
  }
}

</script>
<script>
/* ===== GLOBAL TAB STATE (MUST BE BEFORE openTab) ===== */
const tabScrollPositions = {};
let lastActiveCategory = "cat_0";
window.isFavMode = false;
window.isSearchMode = false;

// üìÇ Category tab switch
function openTab(evt, catId) {

  const clickedTab = evt.currentTarget;
  const container = document.querySelector(".channel-container");
  const previousTab = lastActiveCategory;

  if (clickedTab.classList.contains("active")) {
    container.scrollTo({ top: 0, behavior: "smooth" });
    return;
  }

  if (previousTab && container) {
    tabScrollPositions[previousTab] = container.scrollTop;
  }

  isFavMode = false;
  isSearchMode = false;

  document.querySelectorAll(".tab-btn")
    .forEach(b => b.classList.remove("active"));
  clickedTab.classList.add("active");

  document.querySelectorAll(".channel-grid")
    .forEach(g => g.classList.remove("active"));

  const target = document.getElementById(catId);
  if (target) target.classList.add("active");

  requestAnimationFrame(() => {
    container.scrollTop =
      tabScrollPositions[catId] !== undefined
        ? tabScrollPositions[catId]
        : 0;
  });

  lastActiveCategory = catId;
  showCategoryEmpty(catId);
}
</script>
<script>
function clearAllCategories() {
    document.querySelectorAll('.tab-btn')
        .forEach(tab => tab.classList.remove('active'));
}
</script>


<script>
let hls = null;
let currentChannelId = null; 
let isRecovering = false;

window.favChannels = JSON.parse(
  localStorage.getItem("favChannels") || "[]"
);
</script>
<script>
function loadChannel(id, el, isAuto = false) {

const unmuteBtn = document.getElementById("ytUnmuteBtn");
if (unmuteBtn) unmuteBtn.style.display = "none"; // üî¥ default OFF

const logo = document.getElementById("playerLogo");
if (logo) logo.style.display = "none"; // üî• default off


  /* =====================
     BASIC STATE
  ===================== */
  currentChannelId = id;

  // ‚ù§Ô∏è Favourite button sync
  const favToggleBtn = document.getElementById("favToggleBtn");
  if (favToggleBtn) {
    favToggleBtn.classList.toggle("active", favChannels.includes(id));
  }

  // üîµ Active card highlight
  document.querySelectorAll('.channel-card')
    .forEach(c => c.classList.remove('active'));
  if (el) el.classList.add('active');

  const video  = document.getElementById("tvPlayer");
  const iframe = document.getElementById("iframePlayer");

  // auto-play ‡¶π‡¶≤‡ßá muted
  video.muted = isAuto;

  const source = window.channels?.[id];
  if (!source) {
    alert("‚ùå Channel not available");
    return;
  }

  /* =====================
     RESET PLAYER
  ===================== */
  if (hls) {
    hls.destroy();
    hls = null;
  }

  video.pause();
  video.removeAttribute("src");
  video.load();
  video.style.display = "none";

  iframe.src = "";
  iframe.style.display = "none";

  /* =====================
     CURRENT CHANNEL INFO
  ===================== */
  if (el) {
    const img = el.querySelector("img");
    if (img) {
      document.getElementById("currentChannelName").innerText =
        img.alt || "Live Channel";
      document.getElementById("currentChannelLogo").src = img.src;
    }
  }

  /* =====================
     ‚ñ∂Ô∏è SOURCE SWITCH
  ===================== */

  /* ‚ñ∂Ô∏è M3U8 STREAM */
  if (source.type === "m3u8") {

    video.style.display = "block";

    if (Hls.isSupported()) {

      hls = new Hls({
        enableWorker: true,
        lowLatencyMode: false,
        maxBufferLength: 60,
        maxMaxBufferLength: 120,
        liveSyncDurationCount: 3,
        liveMaxLatencyDurationCount: 6,
        backBufferLength: 30
      });

      hls.loadSource(source.url);
      hls.attachMedia(video);

      hls.on(Hls.Events.MANIFEST_PARSED, () => {
        video.play().catch(() => {});
      });

      /* üî• AUTO ERROR RECOVERY */
      hls.on(Hls.Events.ERROR, function (event, data) {

        console.warn("HLS Error:", data);

        if (data.fatal) {

          switch (data.type) {

            case Hls.ErrorTypes.NETWORK_ERROR:
              console.log("üîÑ Network error, retrying...");
              hls.startLoad();
              break;

            case Hls.ErrorTypes.MEDIA_ERROR:
              console.log("üîÑ Media error, recovering...");
              hls.recoverMediaError();
              break;

            default:
              if (!isRecovering) {
                isRecovering = true;
                console.log("‚ùå Fatal error, reloading channel...");

                hls.destroy();
                hls = null;

                setTimeout(() => {
                  const activeCard =
                    document.querySelector('.channel-card.active');
                  if (activeCard && currentChannelId) {
                    loadChannel(currentChannelId, activeCard);
                  }
                  isRecovering = false;
                }, 3000);
              }
              break;
          }
        }
      });

    } else if (video.canPlayType("application/vnd.apple.mpegurl")) {
      video.src = source.url;
      video.play();
    }
  }

  /* ‚ñ∂Ô∏è YOUTUBE */
else if (source.type === "youtube") {

if (logo) logo.style.display = "block";

  iframe.style.display = "block";

  // üî• Extract video ID safely
  let videoId = "";

  if (source.url.includes("watch?v=")) {
    videoId = source.url.split("watch?v=")[1].split("&")[0];
  } else if (source.url.includes("youtu.be/")) {
    videoId = source.url.split("youtu.be/")[1].split("?")[0];
  } else if (source.url.includes("embed/")) {
    videoId = source.url.split("embed/")[1].split("?")[0];
  }

  iframe.src =
    "https://www.youtube.com/embed/" +
    videoId +
    "?autoplay=1&mute=1&playsinline=1&enablejsapi=1&rel=0";
    
    if (unmuteBtn) unmuteBtn.style.display = "block";

  const btn = document.getElementById("ytUnmuteBtn");
  if (btn) btn.style.display = "block";
}


  /* ‚ñ∂Ô∏è OTHER EMBED */
  else if (source.type === "embed") {
    iframe.style.display = "block";
    iframe.src = source.url;
    if (logo) logo.style.display = "block"; // ‚úÖ LOGO ON
    if (unmuteBtn) unmuteBtn.style.display = "block"; // ‚úÖ EMBED ONLY
  }
}
</script>


<script>
const video = document.getElementById('tvPlayer');

const fsBtn = document.getElementById('fullscreenBtn');


// ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶è‡¶¨‡¶Ç ‡¶ü‡¶æ‡¶ö‚Äî‡¶â‡¶≠‡ßü ‡¶ï‡ßç‡¶∑‡ßá‡¶§‡ßç‡¶∞‡ßá‡¶á ‡¶Ü‡¶®‡¶Æ‡¶ø‡¶â‡¶ü ‡¶π‡¶¨‡ßá ‡¶è‡¶¨‡¶Ç ‡¶™‡¶ú ‡¶π‡¶ì‡ßü‡¶æ ‡¶Ü‡¶ü‡¶ï‡¶æ‡¶¨‡ßá
['click', 'touchstart'].forEach(eventType => {
    video.addEventListener(eventType, function() {
        if (video.muted) {
            video.muted = false; // ‡¶∂‡¶¨‡ßç‡¶¶ ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶π‡¶¨‡ßá
            
            // ‡¶∏‡¶æ‡¶Æ‡¶æ‡¶®‡ßç‡¶Ø ‡¶°‡¶ø‡¶≤‡ßá ‡¶¶‡¶ø‡ßü‡ßá ‡¶™‡ßç‡¶≤‡ßá ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶§‡ßá ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞‡ßá‡¶∞ 'Auto-Pause' ‡¶ì‡¶≠‡¶æ‡¶∞‡¶∞‡¶æ‡¶á‡¶° ‡¶π‡ßü
            setTimeout(() => {
                video.play();
            }, 50); 
        }
    }, { passive: true });
});



// üì± Mobile auto-resume fix
video.addEventListener('waiting', () => {
    console.log("‚è≥ Buffering...");
});

video.addEventListener('stalled', () => {
    console.log("‚ö†Ô∏è Network slow / stalled");
});
</script>
<script>
    document.getElementById("fullscreenBtn").onclick = () => {
    document.getElementById("tvFull").click();
};

const favToggleBtn = document.getElementById("favToggleBtn");

if (favToggleBtn) {
    favToggleBtn.onclick = () => {
        if (!currentChannelId) return;

        if (favChannels.includes(currentChannelId)) {
            favChannels = favChannels.filter(
                id => id !== currentChannelId
            );
            favToggleBtn.classList.remove("active");
        } else {
        
         // fav channel order, short
    favChannels.unshift(currentChannelId);
            favToggleBtn.classList.add("active");
        }

        localStorage.setItem(
            "favChannels",
            JSON.stringify(favChannels)
        );
    };
}
</script>


<script>
window.showFavChannelsInGrid = function () {

  isFavMode = true;
  isSearchMode = false;

  // üîπ ‡¶∏‡¶¨ tab off
  document.querySelectorAll(".tab-btn")
    .forEach(tab => tab.classList.remove("active"));

  // üîπ ‡¶∏‡¶¨ grid hide
  document.querySelectorAll(".channel-grid")
    .forEach(grid => grid.classList.remove("active"));

  const favGrid = document.getElementById("fav_grid");
  if (!favGrid) return;

  favGrid.classList.add("active");
  favGrid.innerHTML = "";

  if (favChannels.length === 0) {
    showFavEmptyState();
    return;
  }

  removeFavEmptyState();

  favChannels.forEach(id => {
    const originalCard = document.querySelector(
      `.channel-card[data-id="${id}"]`
    );

    if (!originalCard) return;

    const clone = originalCard.cloneNode(true);
    clone.classList.remove("active");

    // üëâ clone ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡¶≤‡ßá original ‡¶™‡ßç‡¶≤‡ßá ‡¶π‡¶¨‡ßá
    clone.onclick = () => {
      loadChannel(id, originalCard);
    };

    favGrid.appendChild(clone);
  });

  document.querySelector(".channel-container")
    ?.scrollTo({ top: 0 });
};


// ‡¶ï‡ßç‡¶≤‡¶ø‡¶Ø‡¶º‡¶æ‡¶∞

window.clearFooterActive = function () {
  document
    .querySelectorAll(".app-footer .footer-item")
    .forEach(i => i.classList.remove("active"));
};
</script>

<script>
window.addEventListener("load", () => {

  const loader  = document.getElementById("fastPreloader");
  const percent = document.getElementById("loadingPercent");
  const bar     = document.getElementById("progressBar");

  if (!loader || !percent || !bar) return;

  const steps = [
    { p: 35, w: "35%" },
    { p: 70, w: "70%" },
    { p: 90, w: "90%" },
    { p: 100, w: "100%" }
  ];

  let i = 0;

  function runLoader() {
    if (i >= steps.length) {
      // üî• smooth fade out
      loader.style.opacity = "0";
      loader.style.transition = "opacity 0.35s ease";

      setTimeout(() => {
        loader.remove();
      }, 350);

      return;
    }

    percent.textContent = steps[i].p + "%";
    bar.style.width = steps[i].w;

    i++;
    setTimeout(runLoader, 300);
  }

  runLoader();
});
</script>

<script> 
  const ytBtn = document.getElementById("ytUnmuteBtn");

if (ytBtn) {
  ytBtn.addEventListener("click", (e) => {

    e.preventDefault();
    e.stopPropagation();

    const iframe = document.getElementById("iframePlayer");
    if (!iframe) return;

    // üî• iframe click temporarily OFF
    iframe.classList.add("no-click");

    // üîä unmute command
    iframe.contentWindow.postMessage(
      '{"event":"command","func":"unMute","args":""}',
      "*"
    );

    // üî• button hide
    ytBtn.style.display = "none";

    // üîÑ iframe click ‡¶Ü‡¶¨‡¶æ‡¶∞ ON (delay ‡¶¶‡¶ø‡ßü‡ßá)
    setTimeout(() => {
      iframe.classList.remove("no-click");
    }, 400); // üëà magic timing
  });
}</script>
</body>
</html>
